<md-card ng-if="!patientAnalytics.analyticDetail">

    <md-toolbar class="card-header-toolbar">
        <div class="md-toolbar-tools card-header"><translate>Medical History</translate></div>
    </md-toolbar>

    <md-fab-toolbar md-open="patientAnalytics.fab.isOpen" count="patientAnalytics.fab.count"
                    md-direction="{{patientAnalytics.fab.selectedDirection}}">
        <md-fab-trigger class="align-with-text">
            <md-button class="md-fab md-primary" aria-label="menu">
                <md-tooltip md-direction="top" md-visible="tooltipVisible"><translate>New Elements</translate></md-tooltip>
                <ng-md-icon class="md-fab-24" icon="add" size="24"></ng-md-icon>
            </md-button>
        </md-fab-trigger>
        <md-toolbar>
            <md-fab-actions class="md-toolbar-tools">
                <md-button class="md-raised md-accent" ng-click="patientAnalytics.newAnalytic()">
                    <translate>New Analytic</translate>
                </md-button>
            </md-fab-actions>
        </md-toolbar>
    </md-fab-toolbar>

    <md-table-container id="table-analytics">
        <table md-table md-row-select ng-model="patientAnalytics.selected">
            <thead md-head md-order="patientAnalytics.query.order" md-trigger="patientAnalytics.onOrderChange">
            <tr md-row>
                <th md-column name="Date" md-order-by="date">
                    <translate>Date</translate>
                </th>
            </tr>
            </thead>
            <tbody md-body>
            <tr md-row md-select="analytic"  md-auto-select ng-repeat="analytic in patientAnalytics.analytics"
                ng-click="patientAnalytics.enter(analytic)">
                <td  md-cell>{{analytic.date | date:"MM/dd/yyyy"}}</td>
            </tr>
            </tbody>
        </table>
    </md-table-container>
    <md-table-pagination md-limit="patientAnalytics.perPage"
                              md-page="patientAnalytics.page"
                              md-total="{{patientAnalytics.analyticCount}}"
                              md-trigger="patientAnalytics.onPaginationChange">

    </md-table-pagination>

</md-card>

<analytic ng-if="patientAnalytics.analyticDetail" analytic-id="patientAnalytics.selectedAnalytic._id"
          patient="patientAnalytics.patient" hide-detail="patientAnalytics.activateListView()"></analytic>
