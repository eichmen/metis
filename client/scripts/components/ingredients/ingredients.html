<md-content layout-padding>

    <md-card layout-padding>
        <div layout-padding layout="row" flex>
            <md-input-container flex>
                <label translate>Search</label>
                <input type="text" ng-model="ingredients.query.search"/>
            </md-input-container>
            <md-input-container flex>
                <label translate>Group</label>
                <md-select ng-model="ingredients.query.group">
                    <md-option value="">
                        <translate>All</translate>
                    </md-option>
                    <md-option ng-repeat="group in ingredients.foodGroups" value="{{group}}">
                        {{group | translate}}
                    </md-option>
                </md-select>
            </md-input-container>
        </div>
    </md-card>

    <md-card layout-padding>
        <md-table-container id="table-ingredients" ng-class=" !(ingredients.showSelected === 'true') ? 'hideSelected' : ''">
            <table md-table md-row-select ng-model="ingredients.selected" md-progress="deferred">
                <thead md-head md-order="ingredients.query.order" md-trigger="ingredients.onOrderChange">
                <tr md-row>
                    <th md-column md-order-by="{{ingredients.descInProperLanguage}}">
                        <translate>Ingredient</translate>
                    </th>
                    <th md-column translate>Group</th>
                    <th md-column numeric unit="kcal/100g" order-by="proximates.energKcal.value" name="Kcal">
                        <translate>Kcal</translate>
                    </th>
                    <th md-column numeric unit="g/100g" order-by="proximates.protein.value" name="Protein">
                        <translate>Protein</translate>
                    </th>
                    <th md-column numeric unit="g/100g" order-by="proximates.lipidTot.value" name="Lipid Total">
                        <translate>Lipids Total</translate>
                    </th>
                    <th md-column numeric unit="g/100g" order-by="proximates.carbohydrt.value" name="Carbohydrt">
                        <translate>Carbohydrat</translate>
                    </th>
                </tr>
                </thead>
                <tbody md-body>
                <tr md-row md-select="ingredient" md-auto-select ng-repeat="ingredient in ingredients.ingredients"
                    ng-click="ingredients.enter(ingredient)">
                    <td  md-cell>{{ingredient.nomenclature[ingredients.currentLanguage].desc}}</td>
                    <td  md-cell>{{ingredient.nomenclature.english.foodGroup | translate}}</td>
                    <td  md-cell>{{ingredient.proximates.energKcal.value}}</td>
                    <td  md-cell>{{ingredient.proximates.protein.value}}</td>
                    <td  md-cell>{{ingredient.proximates.lipidTot.value}}</td>
                    <td  md-cell>{{ingredient.proximates.carbohydrt.value}}</td>
                </tr>
                </tbody>
            </table>
        </md-table-container>
        <md-table-pagination md-limit="ingredients.query.perPage"
                                  md-page="ingredients.query.page"
                                  md-total="{{ingredients.ingredientsCount}}"
                                  md-trigger="ingredients.onPaginationChange"></md-table-pagination>
    </md-card>

</md-content>